<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>字数查询</title>

    <style>
        #more {
            background-color: transparent;
            border: none;
            color: blue;
        }
        #inputText {
            width: calc(100% - 100px);
            height: 200px;
        }
    </style>
</head>

<body>
    <h1>字数查询</h1>
    <label for="inputText">查询文字：</label>
    <textarea kype="text" id="inputText" placeholder="要查询字数的文字..."></textarea>
    <br>
    <br>
    <p id="alert"></p>
    <a href="../">by xybwww</a>
    <script>
        document.getElementById('inputText').addEventListener('input', function () {
            const text = document.getElementById("inputText").value;
            var letterCount = 0,
                numberCount = 0,
                chineseCharCount = 0,
                otherCount = 0,
                englishWorlds = (text.match(/\b[a-zA-Z]+\b/g) || []).length;

            for (const iterator of text.split("")) {
                if (iterator >= "a" && iterator <= "z" || iterator >= "A" && iterator <= "Z") {//如果是字母
                    letterCount++;
                } else if (/^\d$/.test(iterator)) {
                    numberCount++;
                } else if (iterator >= "\u4e00" && iterator <= "\u9fff" || iterator >= "\u3400" && iterator <= "\u4dbf") {//如果是汉字
                    chineseCharCount++;
                } else {
                    otherCount++;
                }
            }

            document.getElementById("alert").innerHTML =
                "总字数：" + text.length +
                "<br>数字数：" + numberCount +
                "<br>字母数：" + letterCount +
                "<br>单词数：" + englishWorlds +
                "<br>汉字数：" + chineseCharCount +
                "<br>其他字符数：" + otherCount;
        });
    </script>
</body>

</html>