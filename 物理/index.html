<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>跷跷板</title>
</head>

<body>
  <div id="c"></div>

  <script src="../js/matter.js"></script>
  <script>
   const Engine = Matter.Engine;
const Render = Matter.Render;
const Bodies = Matter.Bodies;
const Composite = Matter.Composite;
const Composites = Matter.Composites;
const Constraint = Matter.Constraint;
const Mouse = Matter.Mouse;
const MouseConstraint = Matter.MouseConstraint;
 // let Mouse = Matter.Mouse
  //let MouseConstraint = Matter.MouseConstraint

// 创建引擎
const engine = Engine.create();

// 创建渲染器
const render = Render.create({
    element: document.getElementById('c'),
    engine: engine,
    options: {
        width: 2000,
        height: 1400,
        wireframes: false,
        showVelocity: true
    }
});

// 创建一些物体
const rectA = Bodies.rectangle(200, 330, 20, 100, {
    isStatic: true,
    render: { fillStyle: '#f00' },
    collisionFilter: { group: -1 }
});

const rectB = Bodies.rectangle(200, 330, 200, 20, {
    render: { fillStyle: '#00f' },
    collisionFilter: { group: -1 }
});

const rotateConstraint = Constraint.create({
    bodyA: rectA,
    bodyB: rectB,
    length: 0
});

const box = Bodies.rectangle(80, 100, 80, 80, {
    restitution: 0.3,
    mass: 0.1
});

const stack = Composites.stack(20, 30, 4, 3, 10, 20, (x, y) => Bodies.rectangle(x, y, 40, 20, { restitution: 0.3, mass: 0.1 }));
const stack_circle = Composites.stack(220, 60, 3, 4, 10, 20, (x, y) => Bodies.circle(x, y, 16));
const ground = Bodies.rectangle(1000, 1390, 2000, 20, {
    isStatic: true,
    render: { fillStyle: '#cccccc' }
});

// 创建鼠标和鼠标约束
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
    mouse: mouse,
    constraint: {
        stiffness: 0.2,
        render: {
            visible: true
        }
    }
});

// 将所有物体添加到世界
Composite.add(engine.world, [rectA, rectB, rotateConstraint, stack, stack_circle, ground, mouseConstraint, box]);

// 运行渲染器
Matter.Render.run(render)
 
  let runner = Matter.Runner.create()
 
  Matter.Runner.run(runner, engine)

  </script>
  <style>
    body {
      transform: scale(0.5);
      /* 使用transform的scale属性将元素缩小到0.5倍 */
      transform-origin: top left;
      /* 设置缩放的原点为左上角，这是默认值，但明确指定有助于理解 */
      /* 可选：添加一些边框或背景颜色，以便更清楚地看到缩小的效果 */
      margin: 0px;
      background-color: white;
    }
  </style>
</body>

</html>